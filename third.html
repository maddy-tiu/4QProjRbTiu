<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Maddy Tiu">
        <meta name="description" content="Online cinema booking">
        <meta name="keywords" content="reservation, movies, cinema">
        <meta name="revised" content="14-05-2022">
        
        <title>MovieClicker</title>

        <link rel="stylesheet" href="./css/styles.css">
    </head>
    <body id="detailPage">
        <h1>Ticket Reservation Details</h1>
        <img id="logo" src="./images/logo.png">
        
        <p>Reservee: <span id="firstName"></span> <span id="lastName"></span></p>
        <p>Email: <span id="email"></span></p>
        <p>Cellphone number: <span id="cell"></span></p>

        <p>Movie: <span id="moviePick"></span></p>
        <p>Number of tickets: <span id="numTickets"></span></p>
        <p>Viewing date: <span id="date"></span></p>
        <p>Seating arrangement: <span id="seats"></span></p>
        <p>Reserved snacks: <span id="snacks"></span></p>

        <input type="button" id="prev" value="Return to form?">

        <script>
            let reservation = localStorage.getItem("reservation");
            if(reservation) {
                keyDataName = "formData" + reservation;
                let formDataString = localStorage.getItem(keyDataName);
                let formDataObj = JSON.parse(formDataString);

                firstName.innerHTML = formDataObj.firstName;
                lastName.innerHTML = formDataObj.lastName;
                email.innerHTML = formDataObj.email;
                cell.innerHTML = formDataObj.cell
                moviePick.innerHTML = formDataObj.movie;
                numTickets.innerHTML = formDataObj.numTickets;
                date.innerHTML = formDataObj.date;
                seats.innerHTML = formDataObj.seating;
                snacks.innerHTML = formDataObj.food;
            }
            else {
                alert("No reservation has been made yet :(");
            }

            prev.addEventListener("click", function() {
                window.open("second.html","_self");
            })
        </script>
    </body> 
</html>